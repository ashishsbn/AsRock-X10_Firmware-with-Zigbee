--- a/drivers/net/wireless/ath/ath10k/mac.c
+++ b/drivers/net/wireless/ath/ath10k/mac.c
@@ -7828,6 +7828,15 @@ int ath10k_mac_register(struct ath10k *a
 
 	ar->hw->wiphy->max_ap_assoc_sta = ar->max_num_stations;
 
+	/* Firmware pull tx model requires per-station queue to be 256 packets
+	 * long. Otherwise firmware's scheduling algorithm doesn't reach
+	 * optimal performance.
+	 *
+	 * FIXME: This arguably introduces buffer bloat..
+	 */
+	if (test_bit(ATH10K_FW_FEATURE_PEER_FLOW_CONTROL, ar->fw_features))
+		ar->hw->txq_ac_max_pending = 256;
+
 	ret = ath10k_wow_init(ar);
 	if (ret) {
 		ath10k_warn(ar, "failed to init wow: %d\n", ret);
